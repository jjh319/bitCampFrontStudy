<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>전체 선택 기능 구현하기</h1>
    <form name="form1">
        <fieldset>
            <legend>취미</legend>
            <p>
                <input type="checkbox" id="all_check" value="Y" />
                <label for="all_check">전체 선택 / 해제</label>
            </p>
            <p>
                <input type="checkbox" id="hobby1" class="hobby_check" value="축구" />
                <label for="hobby1">축구</label>
                <input type="checkbox" id="hobby2" class="hobby_check" value="농구" />
                <label for="hobby2">농구</label>
                <input type="checkbox" id="hobby3" class="hobby_check" value="야구" />
                <label for="hobby3">야구</label>
            </p>
        </fieldset>
    </form>

    <script src="http://code.jQuery.com/jquery-3.7.1.min.js"></script>
    <script>
        $(function(){
            $('#all_check').change(function(){
                var is_check = $(this).is(':checked'); // 가상클래스로 연결
                console.log(is_check);
                
                //$('.hobby_check').attr('checked',is_check); // 전체 선택을 누르면 각 클래스 요소들이 모두 선택되거나 해제됨
                //하지만, 각 클래스를 선택 해제하거나 선택을 따로 눌러버리면 전체 선택을 눌러버려도 hobby_check클래스들이 작동을 하지 않는다.
                $('.hobby_check').prop('checked',is_check); 
            });
        });
    </script>
</body>
</html>

<!-- 
    .attr 사용하면 전체선택 / 전체해제가 된다.
    하지만 전체 선택한 후 일부를 해제한 다음에는 .attr()이 작동하지 않는다.
    => .prop()을 사용하면 해결이 된다.
 -->